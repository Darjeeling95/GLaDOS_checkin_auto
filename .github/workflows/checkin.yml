name: GLaDOS Checkin
on:
  schedule:
    - cron: '30 0 * * *' # 每天北京时间早上 8:30 自动执行
  workflow_dispatch: # 允许手动点击运行

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Run Checkin
        run: |
          curl 'https://glados.rocks/api/user/checkin' \
          -H 'cookie: ${{ secrets.GLADOS }}' \
          -H 'content-type: application/json;charset=UTF-8' \
          -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36' \
          --data-raw '{"token":"glados.network"}'
